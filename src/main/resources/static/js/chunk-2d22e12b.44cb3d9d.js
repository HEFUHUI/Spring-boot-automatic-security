(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22e12b"],{f9ce:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("控制行走")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.restore}},[e._v("复位")])],1),a("el-slider",{attrs:{min:0},model:{value:e.data_data.x,callback:function(t){e.$set(e.data_data,"x",t)},expression:"data_data.x"}}),a("el-slider",{attrs:{min:0},model:{value:e.data_data.y,callback:function(t){e.$set(e.data_data,"y",t)},expression:"data_data.y"}}),a("el-slider",{attrs:{min:0},model:{value:e.data_data.z,callback:function(t){e.$set(e.data_data,"z",t)},expression:"data_data.z"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.move}},[e._v("行走")])],1)],1),a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"box-card",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("手动控制")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.restore}},[e._v("复位")])],1),a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"速度"}},[a("el-slider",{attrs:{min:0,max:10},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}})],1),a("el-form-item",{attrs:{label:"方向"}},[a("el-switch",{attrs:{"inactive-text":"正向","active-color":"#409eff","active-text":"逆向"},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}})],1)],1),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.moveUp}},[e._v("前进")]),a("p",[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.moveLeft}},[e._v("向左")]),a("el-button",{attrs:{icon:e.direction?"el-icon-refresh-left":"el-icon-refresh-right"},on:{click:e.rotate}}),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.moveRight}},[e._v("向右")])],1),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.moveDown}},[e._v("后退")])],1)],1),a("el-col",{attrs:{span:8}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("自定义消息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.code=400,e.cmd=""}}},[e._v("复位")])],1),a("el-form",[a("el-form-item",{attrs:{label:"Code",size:"normal"}},[a("el-input",{attrs:{max:"499",min:"400",type:"number",placeholder:"输入码",size:"normal",clearable:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),a("el-form-item",{attrs:{label:"命令",size:"normal"}},[a("el-input",{attrs:{placeholder:"输入命令",size:"normal",clearable:""},model:{value:e.cmd,callback:function(t){e.cmd=t},expression:"cmd"}})],1),a("el-form-item",{attrs:{size:"normal"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.command()}}},[e._v("发送消息")])],1)],1)],1)],1)],1)],1)},r=[],s=a("99a5"),i=(a("6a61"),{name:"MonitorEqu",data:function(){return{equ:{data:{}},direction:!1,speed:0,data_data:{x:0,y:0,z:0},code:"",cmd:""}},created:function(){var e=this;document.onkeydown=function(t){switch(t.which){case 38:e.moveUp();break;case 39:e.moveLeft();break;case 40:e.moveDown();break;case 37:e.moveRight();break}},this.fetch()},mounted:function(){var e=this;this.$ws.onmessage=function(t){try{var a=JSON.parse(t.data);406===a.code&&e.$message({type:"error",message:a.msg})}catch(n){console.log(n)}}},methods:{moveUp:function(){this.data_data={y:this.speed,x:0,z:0},this.handleMove()},rotate:function(){this.data_data={y:0,x:0,z:this.speed},this.handleMove()},moveLeft:function(){this.data_data={y:0,x:this.speed,z:0},this.handleMove()},moveRight:function(){this.data_data={y:0,x:-this.speed,z:0},this.handleMove()},moveDown:function(){this.data_data={y:-this.speed,x:0,z:0},this.handleMove()},fetch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("equ/find/".concat(e.$route.params.id));case 2:e.equ=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},move:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$ws.send(JSON.stringify({code:401,destination:e.sessionId,data:e.data_data}));case 1:case"end":return t.stop()}}),t)})))()},command:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.code>=400&&e.code<500?e.$ws.send(JSON.stringify({code:e.code,destination:e.sessionId,data:e.cmd})):e.$message("Code必须是>400并且<500");case 1:case"end":return t.stop()}}),t)})))()},restore:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_data={x:0,y:0,z:0},t.next=3,e.move();case 3:case"end":return t.stop()}}),t)})))()},handleMove:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$ws.send(JSON.stringify({code:402,destination:e.sessionId,data:e.data_data}));case 1:case"end":return t.stop()}}),t)})))()},drawLine:function(){var e=this.$echarts.init(this.$refs.myChart);e.setOption({title:{text:"该设备在近一周的在线时间统计(小时)"},tooltip:{},xAxis:{data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",data:[1,2,3,4,5,6,7,8.9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]},series:[{name:"在线",type:"line",data:[4,12,6,3,6,10,20]}]})}},computed:{sessionId:function(){return this.$route.params.id}}}),o=i,c=a("4ac2"),l=Object(c["a"])(o,n,r,!1,null,"b98981e2",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d22e12b.44cb3d9d.js.map