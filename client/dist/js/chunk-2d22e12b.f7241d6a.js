(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22e12b"],{f9ce:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("控制行走")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.restore}},[t._v("复位")])],1),a("el-slider",{attrs:{min:0},model:{value:t.data_data.x,callback:function(e){t.$set(t.data_data,"x",e)},expression:"data_data.x"}}),a("el-slider",{attrs:{min:0},model:{value:t.data_data.y,callback:function(e){t.$set(t.data_data,"y",e)},expression:"data_data.y"}}),a("el-slider",{attrs:{min:0},model:{value:t.data_data.z,callback:function(e){t.$set(t.data_data,"z",e)},expression:"data_data.z"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.move}},[t._v("行走")])],1)],1),a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"box-card",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("手动控制")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.move}},[t._v("复位")])],1),a("el-form",{attrs:{"label-width":"70px"}},[a("el-form-item",{attrs:{label:"速度"}},[a("el-slider",{attrs:{min:0,max:10},model:{value:t.speed,callback:function(e){t.speed=e},expression:"speed"}})],1),a("el-form-item",{attrs:{label:"方向"}},[a("el-switch",{attrs:{"inactive-text":"正向","active-color":"#409eff","active-text":"逆向"},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}})],1)],1),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.moveUp}},[t._v("前进")]),a("p",[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.moveLeft}},[t._v("向左")]),a("el-button",{attrs:{icon:t.direction?"el-icon-refresh-left":"el-icon-refresh-right"},on:{click:t.rotate}}),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.moveRight}},[t._v("向右")])],1),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.moveDown}},[t._v("后退")])],1)],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),{name:"MonitorEqu",data:function(){return{equ:{data:{}},direction:!1,speed:0,data_data:{x:0,y:0,z:0}}},created:function(){var t=this;document.onkeydown=function(e){switch(e.which){case 38:t.moveUp();break;case 39:t.moveLeft();break;case 40:t.moveDown();break;case 37:t.moveRight();break}},this.fetch()},mounted:function(){var t=this;this.$ws.onmessage=function(e){try{var a=JSON.parse(e.data);406===a.code&&t.$message({type:"error",message:a.msg})}catch(n){console.log(n)}}},methods:{moveUp:function(){this.data_data={y:this.speed,x:0,z:0},this.handleMove()},rotate:function(){this.data_data={y:0,x:0,z:this.speed},this.handleMove()},moveLeft:function(){this.data_data={y:0,x:this.speed,z:0},this.handleMove()},moveRight:function(){this.data_data={y:0,x:-this.speed,z:0},this.handleMove()},moveDown:function(){this.data_data={y:-this.speed,x:0,z:0},this.handleMove()},fetch:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("equ/find/".concat(t.$route.params.id));case 2:t.equ=e.sent.data;case 3:case"end":return e.stop()}}),e)})))()},move:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$ws.send(JSON.stringify({code:120,data:{data:{data:t.data_data,action:"move"},destination:t.equ.data.userId}}));case 1:case"end":return e.stop()}}),e)})))()},restore:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.data_data={x:0,y:0,z:0},e.next=3,t.move();case 3:case"end":return e.stop()}}),e)})))()},handleMove:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$ws.send(JSON.stringify({code:120,data:{data:{data:t.data_data,action:"handle"},destination:t.equ.data.userId}}));case 1:case"end":return e.stop()}}),e)})))()},drawLine:function(){var t=this.$echarts.init(this.$refs.myChart);t.setOption({title:{text:"该设备在近一周的在线时间统计(小时)"},tooltip:{},xAxis:{data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",data:[1,2,3,4,5,6,7,8.9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]},series:[{name:"在线",type:"line",data:[4,12,6,3,6,10,20]}]})}}}),o=s,c=a("2877"),d=Object(c["a"])(o,n,r,!1,null,"eebec098",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d22e12b.f7241d6a.js.map